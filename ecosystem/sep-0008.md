
## Preamble

```
SEP: 0008
Title: cancelation
Author: Tempo 
Status: Pending
Created: 2018-05-24
Version: 0.2
```

## Simple Summary

Currently Anchors do not have automatic ways to cancel transactions.  Cancelations are useful for countries where the payout system is slow (not real time) or for cash payouts. Typical reasons that clients cancel a transaction are that it is taking too long or they put the wrong recipient name. 

## Specification


Endpoint: CANCEL_SERVER/cancel?id=tx_id

Purpose: Cancel a transaction sent to an Anchor.

Method: GET

Request parameters

return
{
	status: <status code see below>,
	recv_code: <arbitrary string>,
	refund_tx: <tx_hash>,
    msg: <arbitrary string>
}
```
id The Stellar transaction ID of of the payment we are interested in.

refund_tx only appears if the status is "refunded". It will be the txID of the tx sending the money back. The address to send the refund to needs to be sent as part of the original payment attachment otherwise the receiver won't know how to refund.

status is one of the following codes:
Name | Type | Description
-----|------|------------
`unknown` | what money?
`pending` | We will try to cancel the transaction. Please check the txstatus to see if this was successful later
`failed` |cancelation failed for some internal reason. msg should contain more info.
`delivered` | Receiver should now have the funds, cash has been picked up, or money has been deposited into the bank account. This means that the cancelation is impossible. Result is the same as failed.

HTTP Response should be 200 on these status items except if there is a 
